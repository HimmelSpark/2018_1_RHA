{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./public/js/modules/bus.js","webpack:///./public/js/modules/userModel.js","webpack:///./public/js/components/views/baseView.js","webpack:///./public/js/modules/router.js","webpack:///./public/js/components/blocks/input/input.js","webpack:///./public/js/modules/game/config/playerStates.js","webpack:///./public/js/components/forms/form.js","webpack:///./public/js/modules/validator.js","webpack:///./public/js/components/blocks/block.js","webpack:///./public/js/conf/route.js","webpack:///./public/js/modules/game/player/botPlayer.js","webpack:///./public/js/modules/game/player/player.js","webpack:///./public/js/modules/game/player/mainPlayer.js","webpack:///./public/js/components/blocks/button.js","webpack:///./public/js/modules/http.js","webpack:///./public/js/modules/game/config/coordinate.js","webpack:///./public/js/modules/game/helperFuncs/renderInfoAboutRegion.js","webpack:///./public/js/modules/game/math/inHex.js","webpack:///./public/js/modules/game/gameScene.js","webpack:///./public/js/modules/game/controller.js","webpack:///./public/js/modules/game/helperFuncs/battleCalc.js","webpack:///./public/js/modules/game/helperFuncs/timer.js","webpack:///./public/js/modules/game/gameManager.js","webpack:///./public/js/modules/game/config/reach.js","webpack:///./public/js/modules/graphics/hexagon.js","webpack:///./public/js/modules/game/components/region.js","webpack:///./public/js/modules/game/math/getRandom.js","webpack:///./public/js/modules/game/game.js","webpack:///./public/js/components/views/gameView/gameView.js","webpack:///./public/js/components/views/menuView/menuView.js","webpack:///./public/js/components/forms/loginForm.js","webpack:///./public/js/components/views/loginView/loginView.js","webpack:///./public/js/components/forms/registerForm.js","webpack:///./public/js/components/views/registerView/registerView.js","webpack:///./public/js/modules/userController.js","webpack:///./public/js/components/views/ratingView/ratingView.js","webpack:///./public/js/components/forms/loadPictureForm/loadPictureForm.js","webpack:///./public/js/components/render/render.js","webpack:///./public/js/modules/sectionSwitcher.js","webpack:///./public/js/components/forms/changeForm.js","webpack:///./public/js/components/views/profileView/profileView.js","webpack:///./public/js/application.js","webpack:///./public/js/components/radar/radar.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Bus","_classCallCheck","this","__instance","listeners","event","listener","_this","push","off","Array","isArray","filter","element","payload","forEach","curUser","User","data","email","rating","Promise","resolve","reject","_http2","default","_route2","userAPIMethods","user","err","resp","status","then","promiseValue","userData","post","login","console","log","auth","signup","logout","updateUser","updateAvatar","_userModel","Section","_userModel2","isAuthorized","_sectionSwitcher","Router","root","global","startRoot","document","getElementById","gameRoot","map","active","path","View","view","rootForSwitch","hidden","allowed","window","history","replaceState","open","location","pathname","pushState","sectionSwitcher","changeSection","render","addEventListener","bind","evt","target","tagName","toLowerCase","preventDefault","href","_block","Input","_possibleConstructorReturn","__proto__","getPrototypeOf","wrapper","createElement","CLASS","type","innerHTML","generateInput","placeholder","id","error_id","concat","ErrorElement","getElementsByTagName","InputElement","error","classList","add","style","display","remove","callbackfn","DEFAULT","READY","DISABLED","WON","LOSE","Form","formElement","reset","Validator","emailElem","getData","test","setError","nameElem","passElem","length","confElem","Block","serverUrl","leaderBoard","BotPlayer","color","_this2","_bus2","on","dict","attackers","regions","neighbour","attacker","_getRandom2","emit","from","to","_playerStates","Player","score","resources","_playerStates2","region","newRegion","area","setColor","reColor","owner","reg","splice","MainPlayer","Button","parent","buttonWrapper","buttonElement","appendChild","e","_route","HttpService","url","request","response","json","body","requestMethod","headers","Headers","append","req","method","credentials","mode","fetch","amountofCoorX","amountofCoorY","Coordinate","game_canvas","xSize","width","ySize","height","lengthSide","allowedCoord","x","y","aboutRegion","curRegion","domElem","innerText","gameData","units","xp","yp","npol","j","_renderInfoAboutRegion","GameScene","canvas","players","game_ctx","getContext","about_region","setPlayersRegions","curP","currentPlayer","_inHex2","current","label","selected","player","addRegion","switcher","arrX","arrY","curPlayer","coordinates","isRegion","isTheRegionOfPlayer","activeRegion","new","isNeighbour","nextPlayer","next","regs","cur","_bus","Controller","changeBut","onclick","offsetX","offsetY","mousemove","contextmenu","clickChangeBut","removeEventListener","battleCalc","firstRegion","secondRegion","timer","htmlElement","sec","g","setInterval","clearInterval","_timer","_battleCalc","GameManager","controller","reDraw","getColor","delRegion","setStatus","_mainPlayer2","start","_botPlayer2","stop","reachMatrix","Hexagon","xC","yC","coordinate","draw","strokeColor","R","dR","beginPath","lineJoin","lineWidth","moveTo","lineTo","strokeStyle","stroke","fillStyle","fill","closePath","_reach","Region","allowedCoordinates","setBusListeners","globalRegions","number","init","_hexagon2","num","temp","removeNeighbour","f","_this3","min","max","Math","floor","random","Game","_controller2","arr","_region2","setGlobalRegions","scene","_gameScene2","manager","_gameManager2","onListeners","destroy","GameSection","screen","documentElement","clientWidth","generateCanvas","innerWidth","ctx","img","Image","src","onload","drawImage","_coordinate2","setWindowResizeHandler","getElementsByClassName","game","_game2","_computeCanvasSize","computeCanvasSize","_computeCanvasSize2","_slicedToArray","reSize","MenuSection","sign","menu","attrsActive","title","attrPassive","generateMenu","attrs","setAttribute","logoutWrapper","allow","_router2","hide","LoginForm","Email","password","Password","_input2","InputSubmit","setOnInputChange","_validator2","checkMail","checkPass","ev","LoginSection","generateLogin","after","loginForm","_loginForm2","firstChild","insertBefore","setOnSubmit","jsonUserData","JSON","stringify","RegisterForm","Name","ConfirmPassword","checkName","checkConfirm","username","RegisterSection","register","generateRegister","registerForm","_registerForm2","userController","UserController","signUp","catch","signIn","update","avatar","uploadAvatar","page","toString","RatingSection","paginationWrap","prevButt","removeChild","nextButt","load","empty","lastPage","backButtWrap","backButt","_userController2","users","table","generateRating","pages","_this4","LoadForm","UploadInput","getFormData","UploadSubmit","child","_render","SectionSwitcher","newSection","rootForElement","_render2","ChangeForm","oldp","OldPassword","newp","RepeatPassword","ProfileSection","profileElement","getCurUser","profileTable","generateProfile","fileForm","_loadPictureForm2","changeForm","_changeForm2","_button2","setOnClick","file","formData","FormData","upload","files","globalRoot","_menuView2","_registerView2","_profileView2","_ratingView2","_loginView2","_gameView2","radar","diameter","offsetHeight","offsetWidth","radius","Sketch","create","container","fullscreen","dToR","degrees","PI","sweepAngle","hueDiff","abs","hueEnd","gradient","createLinearGradient","marginLeft","marginTop","addColorStop","clear","globalCompositeOperation","fillRect","arc","TWO_PI","renderRings","save","translate","rotate","restore","renderScanLines"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 71);\n","'use strict';\n\n/**\n * Модуль event-bus медиатора\n * @module EventBus\n */\nclass Bus {\n\t/**\n     * @constructor\n     */\n\tconstructor() {\n\t\tif (Bus.__instance) {\n\t\t\treturn Bus.__instance;\n\t\t}\n\t\tthis.listeners = {};\n\t\tBus.__instance = this;\n\t}\n\n\t/**\n     * Зарегистрировать обработчик события\n     * @param {string} event - название события\n     * @param {function} listener - обработчик события\n     * @return {function(this:Bus)} - функция отписки от события\n     */\n\ton(event, listener) {\n\t\tthis.listeners[event] = this.listeners[event] || [];\n\t\tthis.listeners[event].push(listener);\n\t\treturn (() => {\n\t\t\tthis.off(event, listener);\n\t\t});\n\t}\n\n\t/**\n     * Отписаться от события\n     * @param {string} event - название события\n     * @param {function} listener - обработчик события\n     */\n\toff(event, listener) {\n\t\tif (Array.isArray(this.listeners[event])) {\n\t\t\tthis.listeners[event] = this.listeners[event]\n\t\t\t\t.filter((element) => {\n\t\t\t\t\treturn element !== listener;\n\t\t\t\t});\n\t\t}\n\t}\n\n\n\t/**\n     * Заэмиттить событие\n     * @param {string} event - название события\n     * @param {*} [payload] - объект с данными\n     */\n\temit(event, payload) {\n\t\tif (Array.isArray(this.listeners[event])) {\n\t\t\tthis.listeners[event].forEach((listener) => {\n\t\t\t\tlistener({\n\t\t\t\t\tevent: event,\n\t\t\t\t\tpayload: payload,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport default new Bus();\n","import http from './http.js';\nimport route from '../conf/route.js';\n\n/**\n * Class represents Model of User to store and manage user data\n */\nlet curUser = null;\nexport default class User {\n\t/**\n     * Creates user and loads user data\n     */\n\tconstructor(data) {\n\t\tthis.email = data.email;\n\t\tthis.rating = data.rating;\n\t}\n\n\t/**\n\t * Authenticates user\n\t * @return {Promise<any>}\n\t */\n\tstatic auth() {\n\t\t// if (curUser) {\n\t\t//     resolve(curUser);\n\t\t// }\n\t\treturn new Promise( (resolve, reject) => {\n\t\t\thttp.get(route.userAPIMethods.user, (err, resp) => {\n\t\t\t\tif (err) {\n\t\t\t\t\tif (err.status === 401) {\n\t\t\t\t\t\tcurUser = null;\n\t\t\t\t\t\treturn resolve(null);\n\t\t\t\t\t}\n\t\t\t\t\treturn reject(err);\n\t\t\t\t}\n\t\t\t\tresp.then(\n\t\t\t\t\tpromiseValue => {\n\t\t\t\t\t\tcurUser = new User(promiseValue.data);\n\t\t\t\t\t\tresolve(curUser);\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * If user authorized\n\t * @return {boolean}\n\t */\n\tstatic isAuthorized() {\n\t\treturn !!curUser;\n\t}\n\n\t/**\n\t * Returns current user\n\t * @return {User}\n\t */\n\tstatic getCurUser() {\n\t\treturn curUser;\n\t}\n\n\t/**\n\t * Signs user in\n\t * @param userData\n\t * @return {Promise<any>}\n\t */\n\tstatic signIn(userData) {\n\t\treturn new Promise( (resolve, reject) => {\n\t\t\thttp.post(route.userAPIMethods.login, userData, (err, resp) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn reject(err);\n\t\t\t\t}\n\t\t\t\tconsole.log(resp);\n\t\t\t\tresolve(User.auth());\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * signs user Up\n\t * @param userData\n\t * @return {Promise<any>}\n\t */\n\tstatic signUp(userData) {\n\t\treturn new Promise( (resolve, reject) => {\n\t\t\thttp.post(route.userAPIMethods.signup, userData, (err, resp) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn reject(err);\n\t\t\t\t}\n\t\t\t\tconsole.log(resp);\n\t\t\t\tresolve(User.auth());\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * logs user Off\n\t * @return {Promise<any>}\n\t */\n\tstatic logout() {\n\t\treturn new Promise( (resolve, reject) => {\n\t\t\thttp.post(route.userAPIMethods.logout, {}, (err, resp) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn reject(err);\n\t\t\t\t}\n\t\t\t\tconsole.log(resp);\n\t\t\t\tresolve(User.auth());\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * updates user data\n\t * @param userData\n\t * @return {Promise<any>}\n\t */\n\tstatic update(userData) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\thttp.post(route.userAPIMethods.updateUser, userData, (err, resp) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn reject(err);\n\t\t\t\t}\n\t\t\t\tconsole.log(resp);\n\t\t\t\tresolve(User.auth());\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * uploads user's avatar\n\t * @param userData\n\t * @return {Promise<any>}\n\t */\n\tstatic uploadAvatar(userData) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\thttp.post(route.userAPIMethods.updateAvatar, userData, (err, resp) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn reject(err);\n\t\t\t\t}\n\t\t\t\tconsole.log(resp);\n\t\t\t});\n\t\t});\n\t}\n}","import User from '../../modules/userModel.js';\n\n/**\n * Class represents generic Section\n */\nexport default class Section {\n\tconstructor() {\n\t\tUser.isAuthorized();\n\t}\n\n\t/**\n     * Should be overriden\n     */\n\trender() {\n\t}\n\n\tallowed() {\n\t\treturn false;\n\t}\n\n\n}\n","import {sectionSwitcher} from './sectionSwitcher.js';\n\n/**\n * Class representing router\n */\nexport default class Router {\n\n\t/**\n\t * Creates router\n\t * @param root\n\t * @param global\n\t * @return {Router|*}\n\t */\n\tconstructor(root, global) {\n\n\t\tif (Router.__instance) {\n\t\t\treturn Router.__instance;\n\t\t}\n\n\t\tthis.root = root;\n\t\tthis.startRoot = document.getElementById('start');\n\t\tthis.gameRoot = document.getElementById('game');\n\t\tthis.map = {};\n\t\tthis.global = global;\n\t\tthis.active = null;\n\n\t\tRouter.__instance = this;\n\t}\n\n\t/**\n\t * adds new page to router\n\t * @param path\n\t * @param View\n\t * @return {Router}\n\t */\n\tadd(path, View) {\n\t\tthis.map[path] = new View(this.root);\n\t\treturn this;\n\t}\n\n\t/**\n\t * opens the page\n\t * @param path\n\t */\n\topen(path) {\n\t\tconst view = this.map[path];\n\t\tlet rootForSwitch;\n\t\tif (path === '/singleplayer' ) {\n\t\t\tconsole.log('if');\n\t\t\trootForSwitch =  this.gameRoot;\n\t\t\tthis.startRoot.hidden = true;\n\t\t\trootForSwitch.hidden = false;\n\t\t} else {\n\t\t\tconsole.log('else');\n\t\t\trootForSwitch = this.root;\n\t\t\tthis.startRoot.hidden = false;\n\t\t\tthis.gameRoot.hidden = true;\n\t\t}\n\n\t\tconsole.log('view ', path, 'is allowed: ', view.allowed());\n\t\tif (!view.allowed()) {\n\t\t\twindow.history.replaceState(null, '', '/');\n\t\t\tthis.open('/');\n\t\t\treturn;\n\t\t}\n\t\tif (window.location.pathname !== path) {\n\t\t\twindow.history.pushState(null, '', path);\n\t\t}\n\n\t\tif (path === '/game') {\n\t\t\tsectionSwitcher.changeSection(view.render(), this.global);\n\t\t}\n\t\tsectionSwitcher.changeSection(view.render(), rootForSwitch);\n\t}\n\n\t/**\n\t * Starts the router\n\t */\n\tstart() {\n\t\twindow.addEventListener('popstate', function () {\n\t\t\tthis.open(window.location.pathname);\n\t\t}.bind(this));\n\n\t\tthis.root.addEventListener('click', function (evt) {\n\t\t\tif (evt.target.tagName.toLowerCase() === 'a') {\n\t\t\t\tevt.preventDefault();\n\t\t\t\twindow.history.pushState(null, '', evt.target.href);\n\t\t\t\tthis.open(evt.target.pathname);\n\t\t\t}\n\t\t}.bind(this));\n\t\tconsole.log(window.location.pathname);\n\t\tthis.open(window.location.pathname);\n\t}\n}","/* eslint-disable no-undef */\nimport Block from '../block.js';\n/** Class representing Input */\nexport default class Input extends Block {\n\t/**\n     * Creates input\n     * @param {object} data – contains type, value and placeholder\n     */\n\tconstructor(data) {\n\t\tsuper();\n\n\t\t// this.InputElement = document.createElement('input');\n\t\t// this.InputElement.type = data.type;\n\t\t// if(data.type === 'submit') {\n\t\t// \tthis.InputElement.value = data.value;\n\t\t// \tthis.InputElement.classList.add('button');\n\t\t// }\n\t\t// else {\n\t\t// \tthis.InputElement.placeholder = data.placeholder;\n\t\t// \tthis.InputElement.classList.add('input');\n\t\t// }\n\t\t//\n\t\t// this.InputWrapper = document.createElement('div');\n\t\t// this.InputWrapper.appendChild(this.InputElement);\n\t\t//\n\t\tthis.status = true; //заглушка\n\t\t//\n\t\t// this.ErrorElement = document.createElement('div');\n\t\t// this.ErrorElement.classList.add('error');\n\t\t// this.lamp = document.createElement('div');\n\t\t// this.lamp.innerHTML = generateLamp();\n\t\t// this.InputWrapper.appendChild(this.lamp);\n\t\t// this.InputWrapper.appendChild(this.ErrorElement);\n\t\t//\n\t\t//\n\t\tthis.wrapper = document.createElement('div');\n\t\t//TODO здесь надо указать все типы инпутов, которым не нужна лампа\n\n\t\tlet CLASS = 'input';\n\t\tif (data.type === 'submit') {\n\t\t\tCLASS = 'button';\n\t\t}\n\t\tthis.wrapper.innerHTML += generateInput({\n\t\t\ttype: data.type,\n\t\t\tplaceholder: data.placeholder,\n\t\t\tvalue: data.value,\n\t\t\tid: data.id,\n\t\t\terror_id: data.id.concat('_error'),\n\t\t\tCLASS: CLASS\n\t\t});\n\t\tthis.ErrorElement = this.wrapper.getElementsByTagName('div')[0];\n\t\tthis.InputElement = this.wrapper.getElementsByTagName('input')[0];\n\t}\n\n\t/**\n     * Returns input DOM element\n     * @return {HTMLDivElement | *}\n     */\n\trender() {\n\t\treturn this.wrapper;\n\t}\n\n\t/**\n     * For validation process\n     * @return {boolean} – true if valid\n     */\n\tgetState() {\n\t\treturn this.status;\n\t}\n\n\t/**\n     * Returns input data\n     * @return {string}\n     */\n\tgetData() {\n\t\treturn this.InputElement.value;\n\t}\n\tgetFormData() {\n\t\treturn this.InputElement;\n\t}\n\n\t/**\n     * To set error message or unset error\n     * @param {string} error\n     */\n\tsetError(error) {\n\t\tif (error) {\n\t\t\tthis.status = false;\n\t\t\tthis.ErrorElement.innerHTML = error;\n\t\t\tthis.InputElement.classList.add('input__error');\n\t\t} else {\n\t\t\tthis.status = true;\n\t\t\tthis.ErrorElement.style.display = 'none';\n\t\t\tthis.InputElement.classList.remove('input__error');\n\t\t}\n\t}\n\n\n\t//TODO: в качестве коллбека можешь передать методы валидатора, тогда ему будут видны поля этого класса\n\t/**\n     * Defines behaviour on change\n     * @param {function} callbackfn – input data change handler\n     */\n\tsetOnInputChange(callbackfn) {\n\t\tthis.InputElement.addEventListener('change', (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tcallbackfn();\n\t\t});\n\t}\n}","/**\n * for player management\n * @type {{DEFAULT: number, READY: number, DISABLED: number, WON: number, LOSE: number}}\n */\nconst PLAYER_STATES = {\n\tDEFAULT : 1,\n\tREADY : 2,\n\tDISABLED : 3,\n\tWON : 4,\n\tLOSE: 5\n};\nexport default PLAYER_STATES;","import Block from '../blocks/block.js';\n\n/** Class representing generic form */\nexport default class Form extends Block {\n\t/**\n     * Create a form\n     */\n\tconstructor() {\n\t\tsuper();\n\t\tthis.formElement = document.createElement('form');\n\t}\n\n\t/**\n     * should be overriden\n     */\n\trender() {\n\n\t}\n\n\t/**\n     * to reset form data\n     */\n\treset() {\n\t\tthis.formElement.reset();\n\t}\n\n\t/**\n     * should be overriden\n     */\n\tsetOnSubmit() {\n\t}\n\n\t//TODO после сабмита пробежишься по всем инпутам и проверяешь их стейты\n\t//TODO если что-то не так, то тогда от компоненты вызываешь setError, который должен разхидить errorElement\n}","/**\n * Class represents set of tools to validate forms\n */\nexport default class Validator {\n\n\t/**\n     * Validation of Email input\n     * @param emailElem\n     */\n\tstatic checkMail(emailElem) {\n\n\t\tconst email = emailElem.getData();\n\t\tconst pattern = /([\\w-]+)@([\\w-]+)(\\.[\\w]+)/;\n\t\tif (pattern.test(email) === false) {\n\t\t\temailElem.setError('incorrect email');\n\t\t} else {\n\t\t\temailElem.setError(null);\n\t\t}\n\t}\n\n\t/**\n     * Validation of Name input\n     * @param nameElem\n     */\n\tstatic checkName(nameElem) {\n\t\tconst name = nameElem.getData();\n\t\tconst pattern = /^[a-zA-Z0-9_-]{3,16}$/;\n\t\tif (pattern.test(name)) {\n\t\t\tnameElem.setError(null);\n\t\t} else {\n\t\t\tnameElem.setError('incorrect name');\n\t\t}\n\t}\n\n\t/**\n     * Validation of Password input\n     * @param passElem\n     */\n\tstatic checkPass(passElem) {\n\t\tconst pass = passElem.getData();\n\t\tif (pass.length < 8) {\n\t\t\tpassElem.setError('too short password');\n\t\t} else {\n\t\t\tpassElem.setError(null);\n\t\t}\n\t}\n\n\t/**\n     * Validation of PasswordConfirm input\n     * @param passElem\n     * @param confElem\n     */\n\tstatic checkConfirm(passElem, confElem) {\n\t\tif (passElem.getData() !== confElem.getData()) {\n\t\t\tconfElem.setError('passwords do not match');\n\t\t} else {\n\t\t\tconfElem.setError(null);\n\t\t}\n\t}\n}","export default class Block {\n/**\n* should be overriden\n*/\n\trender() {}\n}","\nconst serverUrl = 'https://rha-backend.herokuapp.com/';\n//const serverUrl = 'http://localhost:5000/';\n\n/**\n * Contains methods' paths of user API\n * @type {{login: string, signup: string, logout: string, user: string, updateUser: string, leaderBoard: string}}\n */\nconst userAPIMethods = {\n\tlogin: 'users/auth',\n\tsignup: 'users/create',\n\tlogout: 'users/logout',\n\tuser: 'users/info',\n\tupdateUser: 'users/chpwd',\n\tleaderBoard: 'users/rating',\n\tupdateAvatar: 'users/chava'\n};\n\n// export const route = {\n//     debug: true\n// };\n\nexport default {serverUrl, userAPIMethods};","/* eslint-disable indent */\nimport Player from './player.js';\nimport bus from '../../bus.js';\nimport getRandom from '../math/getRandom.js';\n\n/**\n * Class representing game Player\n */\nexport default class BotPlayer extends Player {\n\t/**\n\t * Creates Player\n\t * @param name\n\t * @param color\n\t */\n\tconstructor(name, color) {\n\t\tsuper(name, color);\n\n\t\tthis.listeners();\n\t}\n\n\t/**\n\t * Sets up player's listeners\n\t */\n\tlisteners() {\n\t\tbus.on('bot-move', dict => {\n\t\t\tconst nextPLayer = dict.payload;\n\t\t\tif (nextPLayer.name !== this.name) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// debugger;\n\t\t\tconst attackers = [];\n\t\t\tfor (let i = 0; i < this.regions.length; i++) {\n\n\t\t\t\tif (this.regions[i].neighbour.length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tattackers.push(this.regions[i]);\n\t\t\t}\n\t\t\tconst attacker = getRandom(0, attackers.length - 1);\n\t\t\t// debugger;\n\t\t\tbus.emit('bot-attack', {\n\t\t\t\tfrom: attackers[attacker],\n\t\t\t\tto: attackers[attacker].neighbour[getRandom(0, attackers[attacker].neighbour.length - 1)]\n\t\t\t});\n\t\t\tbus.emit('bot-change-move', 'bot');\n\t\t});\n\t}\n}","import PLAYER_STATES from '../config/playerStates.js';\n\n/**\n * Class representing generic game Player\n */\nexport default class Player {\n\t/**\n\t * Creates player\n\t * @param name\n\t * @param color\n\t */\n\tconstructor(name, color) {\n\t\tthis.score = 0;\n\t\tthis.resources = 0;\n\t\tthis.regions = [];\n\t\tthis.status = PLAYER_STATES.DISABLED;\n\t\tthis.color = color;\n\t\tthis.name = name;\n\t}\n\n\t/**\n\t * should be overriden\n\t */\n\tinit() {\n\n\t}\n\n\t/**\n\t * Принадлежит ли данный регион игроку\n\t * @param region\n\t * @return {boolean}\n\t */\n\tisTheRegionOfPlayer(region) {\n\t\tfor (let i = 0; i < this.regions.length; ++i) {\n\t\t\tif (this.regions[i].name === region.name) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Gives the player new region\n\t * @param newRegion\n\t */\n\taddRegion(newRegion) {\n\t\tnewRegion.area.setColor(this.color);\n\t\tnewRegion.area.reColor(this.color);\n\t\tnewRegion.owner = this;\n\t\tthis.regions.push(newRegion);\n\t}\n\n\t/**\n\t * deletes region\n\t * @param reg\n\t */\n\tdelRegion(reg) {\n\t\tfor (let i = 0; i < this.regions.length; ++i) {\n\t\t\tif (this.regions[i] === reg) {\n\t\t\t\tthis.regions.splice(i,1);\n\t\t\t}\n\t\t}\n\t\tif (this.regions.length === 0) {\n\t\t\tthis.status = PLAYER_STATES.LOSE;\n\t\t}\n\t}\n\n\t/**\n\t * sets player's status\n\t * @param status\n\t */\n\tsetStatus(status) {\n\t\tthis.status = status;\n\t}\n}","import Player from './player.js';\nimport PLAYER_STATES from '../config/playerStates.js';\n\n/**\n * Class representing client's player\n */\nexport default class MainPlayer extends Player {\n\t/**\n\t * Creates main player\n\t * @param name\n\t * @param color\n\t */\n\tconstructor(name, color) {\n\t\tsuper(name, color);\n\t\tthis.status = PLAYER_STATES.DEFAULT;\n\t}\n}","import Block from './block.js';\n/** Class representing button */\nexport default class Button extends Block {\n    /**\n    * Create a button\n    * @param {string} type   - type of the button\n    * @param {string} value  - inner text\n    * @param {string} parent - parent element\n    */\n\tconstructor(type, value, parent) {\n\t\tsuper();\n\t\tthis.buttonWrapper = document.createElement('div');\n\t\tthis.buttonElement = document.createElement('button');\n\t\tthis.buttonElement.classList.add('btn-style');\n\t\tthis.buttonElement.classList.add('button');\n\t\tthis.buttonElement.innerHTML = value;\n\t\tthis.buttonElement.type = type;\n\n\t\tif (parent) {\n\t\t\tparent.appendChild(this.buttonWrapper);\n\t\t}\n\t\tthis.buttonWrapper.classList.add('page-button');\n\n\t\tthis.buttonWrapper.appendChild(this.buttonElement);\n\t}\n\n\t/**\n     * Get the button DOM element\n     * @return {HTMLDivElement | *}\n     */\n\trender() {\n\t\treturn this.buttonWrapper;\n\t}\n\n\t/**\n     * To make a button hidden\n     */\n\thide() {\n\t\tthis.buttonWrapper.classList.add('hidden');\n\t}\n\n\t/**\n     * To make button visible\n     */\n\tshow() {\n\t\tthis.buttonWrapper.classList.remove('hidden');\n\t}\n\n\t/**\n     * Defines behaviour on click\n     * @param {function} callbackfn - button click handler\n     */\n\tsetOnClick(callbackfn) {\n\t\tthis.buttonElement.addEventListener('click', function (e) {\n\t\t\tevent.preventDefault();\n\t\t\tcallbackfn();\n\t\t});\n\t}\n}\n","import config from '../conf/route.js';\n\n/**\n * Class represents interface for working with HTTP\n */\nclass HttpService {\n\t/**\n     * GET request\n     * @param url\n     * @param  {function} callbackfn\n     * @return {PromiseLike<T> | Promise<T>}\n     */\n\tstatic get(url, callbackfn) {\n\t\treturn this.request('GET', url)\n\t\t\t.then (\n\t\t\t\tresponse => {\n\t\t\t\t\tif (response.status === 200) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcallbackfn(null, response.json());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch (err) {\n\t\t\t\t\t\t\tconsole.error('get error: ', err);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallbackfn(response, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t}\n\n\t/**\n     * POST request\n     * @param url\n     * @param body\n     * @param  {function} callbackfn\n     * @return {PromiseLike<T> | Promise<T>}\n     */\n\tstatic post(url, body, callbackfn) {\n\t\treturn this.request('POST', url, body)\n\t\t\t.then (\n\t\t\t\tresponse => {\n\t\t\t\t\tif (response.status < 300) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcallbackfn(null, response.json());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch (err) {\n\t\t\t\t\t\t\tconsole.error('post error: ', err);\n\t\t\t\t\t\t\tcallbackfn(err);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallbackfn(response);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t);\n\t}\n\n\t/**\n     * Generic request\n     * @param requestMethod\n     * @param url\n     * @param body\n     * @return {Promise<Response>}\n     */\n\tstatic request(requestMethod, url, body) {\n\t\tconst headers = new Headers();\n\n\t\tif (requestMethod ==='POST') {\n\t\t\tif (url !== 'users/chava') {\n\t\t\t\theaders.append('Content-Type', 'application/json; charset=utf-8');\n\t\t\t}\n\n\t\t}\n\n\t\tconst req = {\n\t\t\tmethod: requestMethod,\n\t\t\theaders: headers,\n\t\t\tbody: body,\n\t\t\tcredentials: 'include',\n\t\t\tmode: 'cors'\n\t\t};\n\t\t//TODO:: на время\n\t\tif (url === 'users/chava') {\n\t\t\treturn fetch('http://localhost:5000/users/chava', req);\n\t\t}\n\t\treturn fetch(`${config.serverUrl}${url}`, req);\n\t}\n}\n\nexport default HttpService;","\n\n\nconst amountofCoorX = 1000;\nconst amountofCoorY = 610;\n\nexport default class Coordinate {\n\tconstructor(game_canvas) {\n\t\tif (Coordinate.__instance) {\n\t\t\treturn Coordinate.__instance;\n\t\t}\n\t\tCoordinate.__instance = this;\n\t\tthis.game_canvas = game_canvas;\n\t\tthis.xSize = game_canvas.width / amountofCoorX;\n\t\tthis.ySize = game_canvas.height / amountofCoorY;\n\n\n\t\tthis.lengthSide = 90;\n\n\t\tthis.allowedCoord = [\n\t\t\t{\n\t\t\t\tname: 'A',\n\t\t\t\tx: this.xSize * 365,\n\t\t\t\ty: 345 * this.ySize,\n\t\t\t\tallowed: true,\n\t\t\t\tneighbour: ['B', 'C', 'D']\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'B',\n\n\t\t\t\tx: (321 + this.lengthSide * 2) * this.xSize,\n\t\t\t\ty: (345 - this.lengthSide * 0.86) * this.ySize,\n\n\t\t\t\tallowed: true,\n\t\t\t\tneighbour: ['A', 'C', 'D', 'E']\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'C',\n\t\t\t\tx: 365 * this.xSize,\n\t\t\t\ty: (345 - this.lengthSide * 0.86 * 2) * this.ySize,\n\t\t\t\tallowed: true,\n\t\t\t\tneighbour: ['A', 'B']\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'D',\n\t\t\t\tx: (321 + this.lengthSide * 2) * this.xSize,\n\t\t\t\ty: (345 + this.lengthSide * 0.86) * this.ySize,\n\t\t\t\tallowed: true,\n\t\t\t\tneighbour: ['A', 'B', 'E']\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'E',\n\t\t\t\tx: ((321 + this.lengthSide * 2) + 136) * this.xSize,\n\t\t\t\ty: 345 * this.ySize,\n\t\t\t\tallowed: true,\n\t\t\t\tneighbour: ['B', 'D']\n\t\t\t}\n\t\t];\n\t}\n\n\treSize(game_canvas) {\n\t\tthis.xSize = game_canvas.width / amountofCoorX;\n\t\tthis.ySize = game_canvas.height / amountofCoorY;\n\n\t\t//TODO сделать по-человечески\n\t\tthis.allowedCoord = [\n\t\t\t{\n\t\t\t\tname: 'A',\n\t\t\t\tx: this.xSize * 365,\n\t\t\t\ty: 345 * this.ySize,\n\t\t\t\tallowed: true,\n\t\t\t\tneighbour: ['B', 'C', 'D']\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'B',\n\t\t\t\tx: (321 + this.lengthSide * 2) * this.xSize,\n\t\t\t\ty: (345 - this.lengthSide * 0.86) * this.ySize,\n\t\t\t\tallowed: true,\n\t\t\t\tneighbour: ['A', 'C', 'D', 'E']\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'C',\n\t\t\t\tx: 365 * this.xSize,\n\t\t\t\ty: (345 - this.lengthSide * 0.86 * 2) * this.ySize,\n\t\t\t\tallowed: true,\n\t\t\t\tneighbour: ['A', 'B']\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'D',\n\t\t\t\tx: (321 + this.lengthSide * 2) * this.xSize,\n\t\t\t\ty: (345 + this.lengthSide * 0.86) * this.ySize,\n\t\t\t\tallowed: true,\n\t\t\t\tneighbour: ['A', 'B', 'E']\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'E',\n\t\t\t\tx: ((321 + this.lengthSide * 2) + 136) * this.xSize,\n\t\t\t\ty: 345 * this.ySize,\n\t\t\t\tallowed: true,\n\t\t\t\tneighbour: ['B', 'D']\n\t\t\t}\n\t\t];\n\n\t}\n}","\n\nexport const aboutRegion = (curRegion, domElem) => {\n\tdomElem.innerText = '';\n\tdomElem.innerText += 'name: ';\n\tdomElem.innerText += curRegion.name;\n\tdomElem.innerText += ' \\n';\n\tdomElem.innerText += 'region: ';\n\tdomElem.innerText += curRegion.gameData.units;\n};\n","/* eslint-disable no-undef */\n\n/**\n * Answers if the point is in Hexagon\n * @param x\n * @param y\n * @param xp\n * @param yp\n * @return {boolean}\n */\nconst inHex = (x, y, xp, yp) => {\n\tlet npol = xp.length;\n\tlet j = npol - 1;\n\tlet c = false;\n\tfor (let i = 0; i < npol; i++){\n\t\tif ((((yp[i]<=y) && (y<yp[j])) || ((yp[j]<=y) && (y<yp[i]))) &&\n\t\t\t(x > (xp[j] - xp[i]) * (y - yp[i]) / (yp[j] - yp[i]) + xp[i])) {\n\t\t\tc = !c;\n\t\t}\n\t\tj = i;\n\t}\n\treturn c;\n};\n\nexport default inHex;","/* eslint-disable indent,no-case-declarations */\nimport inHex from './math/inHex.js';\nimport bus from '../bus.js';\nimport PLAYER_STATES from './config/playerStates.js';\nimport {aboutRegion} from './helperFuncs/renderInfoAboutRegion.js';\n\n/**\n * Class representing Game Scene (Set of graphical and logical elements)\n */\nexport default class GameScene {\n\t/**\n\t * Creates scene\n\t * @param canvas\n\t * @param players\n\t * @param regions\n\t * @param switcher\n\t */\n\tconstructor(canvas, players, regions) {\n\t\tthis.canvas  = canvas;\n\t\tthis.game_ctx = canvas.getContext('2d');\n\t\tthis.players = players;\n\t\tthis.regions = regions;\n\t\tthis.about_region = document.getElementById('about-region');\n\t\tthis.setPlayersRegions();\n\t}\n\n\t/**\n\t * Returns current player\n\t * @return {*}\n\t */\n\tcurrentPlayer() {\n\t\tfor (let i = 0; i < this.players.length; ++i) {\n\t\t\t// TODO проверить работает ли это условие\n\t\t\tif (this.players[i].status !== PLAYER_STATES.DISABLED ) {\n\t\t\t\treturn this.players[i];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Returns next player\n\t * @return {*}\n\t */\n\tnextPlayer() {\n\t\tconst curP = this.currentPlayer();\n\t\tfor (let i = 0; i < this.players.length; ++i) {\n\t\t\tif (this.players[i] === curP) {\n\t\t\t\ti = (i + 1) % this.players.length;\n\t\t\t\treturn this.players[i];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Returns pointed region\n\t * @param x\n\t * @param y\n\t * @return {Region | null}\n\t */\n\tisRegion(x, y) {\n\t\tfor (let i = 0; i < this.regions.length; ++i) {\n\t\t\tif (inHex(x, y, this.regions[i].area.xp, this.regions[i].area.yp)) {\n\t\t\t\treturn this.regions[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t *\n\t * @param active\n\t * @param current\n\t * @return {boolean}\n\t */\n\tisNeighbour(active, current) {\n\t\tfor (let i = 0; i < active.neighbour.length; i++) {\n\t\t\tif (current.label === active.neighbour[i]) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t *\n\t * @return {Region}\n\t */\n\tactiveRegion() {\n\t\tfor (let i = 0; i < this.regions.length; ++i) {\n\t\t\tif (this.regions[i].selected === true) {\n\t\t\t\treturn this.regions[i];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t *\n\t */\n\tdeactivatePlayers() {\n\t\tthis.players.forEach(player => player.active = false);\n\t}\n\n\t/**\n\t * Sets regions for playes\n\t */\n\tsetPlayersRegions() {\n\t\tfor (let i = 0; i < this.players.length; i++ ) {\n\t\t\tthis.players[i].addRegion(this.regions[i]);\n\t\t}\n\t}\n\n\t/**\n\t * @param x\n\t * @param y\n\t * @return {boolean}\n\t */\n\tisElementOfChangeCanvas(x, y) {\n\t\treturn !!inHex(x, y, this.switcher.arrX, this.switcher.arrY);\n\t}\n\n\t/**\n\t * подписываемся на события кликов мышки\n\t */\n\tonListeners() {\n\t\tbus.on('left-click', data => {\n\t\t\tconst curPlayer = this.currentPlayer();\n\t\t\tconst coordinates = data.payload;\n\t\t\tif (curPlayer.status === PLAYER_STATES.DISABLED) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst curRegion = this.isRegion(coordinates.x, coordinates.y);\n\t\t\tif (!curRegion) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconsole.log(curRegion.neighbour);\n\t\t\tswitch (curPlayer.status) {\n\t\t\t\tcase PLAYER_STATES.DEFAULT:\n\t\t\t\t\tif (!curPlayer.isTheRegionOfPlayer(curRegion)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcurPlayer.status = PLAYER_STATES.READY;\n\n\t\t\t\t\t//выводим информацию о регионе\n\t\t\t\t\taboutRegion(curRegion, this.about_region);\n\t\t\t\t\tbus.emit('select-region', curRegion);\n\t\t\t\t\tbreak;\n\t\t\t\tcase PLAYER_STATES.READY:\n\t\t\t\t\tif (!this.currentPlayer().isTheRegionOfPlayer(curRegion)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t//если нажали на выделенный регион\n\t\t\t\t\tif (curRegion === this.activeRegion()) {\n\t\t\t\t\t\tcurPlayer.status = PLAYER_STATES.DEFAULT;\n\t\t\t\t\t}\n\n\t\t\t\t\t//выводим информацию о регионе\n\t\t\t\t\taboutRegion(curRegion, this.about_region);\n\t\t\t\t\tbus.emit('change-selection',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tactive: this.activeRegion(),\n\t\t\t\t\t\t\tnew: curRegion\n\t\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tbus.on('contextmenu', data => {\n\n\t\t\tconst curPlayer = this.currentPlayer();\n\t\t\tconst activeRegion = this.activeRegion();\n\t\t\tconst coordinates = data.payload;\n\t\t\tif (curPlayer.status === PLAYER_STATES.DISABLED || curPlayer.status !== PLAYER_STATES.READY) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst curRegion = this.isRegion(coordinates.x, coordinates.y);\n\t\t\tif (!curRegion) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t//если не является регионом игрока\n\t\t\tif (!curPlayer.isTheRegionOfPlayer(curRegion)) {\n\t\t\t\t//если не является соседом, то выходим\n\t\t\t\tif (this.isNeighbour(activeRegion, curRegion) === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tbus.emit('attack', {\n\t\t\t\t\tfrom: this.activeRegion(),\n\t\t\t\t\tto: curRegion\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t//перемещаем юнитов между своими регионами\n\t\t\t\tcurRegion.gameData.units += activeRegion.gameData.units;\n\t\t\t\tactiveRegion.gameData.units = 0;\n\t\t\t\tbus.emit('change-selection',\n\t\t\t\t\t{\n\t\t\t\t\t\tactive: this.activeRegion(),\n\t\t\t\t\t\tnew: curRegion\n\t\t\t\t\t});\n\t\t\t\t//выводим информацию о регионе\n\t\t\t\taboutRegion(curRegion, this.about_region);\n\t\t\t}\n\t\t});\n\n\t\tbus.on('left-click-change', () => {\n\t\t\tconst curPlayer = this.currentPlayer();\n\t\t\tconst nextPlayer = this.nextPlayer();\n\t\t\t\tif (curPlayer.status === PLAYER_STATES.DISABLED) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\tbus.emit('change-move', {\n\t\t\t\tcurrent: curPlayer,\n\t\t\t\tnext: nextPlayer,\n\t\t\t});\n\t\t});\n\n\t\tbus.on('bot-attack', data => {\n\t\t\tconst regs = data.payload;\n\t\t\tfor (let i = 0; i < this.regions.length; ++i) {\n\t\t\t\tif (regs.to === this.regions[i].label) {\n\t\t\t\t\tbus.emit('attack', {\n\t\t\t\t\t\tfrom: regs.from,\n\t\t\t\t\t\tto: this.regions[i]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tbus.on('bot-change-move', () => {\n\t\t\tbus.emit('change-move', {\n\t\t\t\tcurrent: this.currentPlayer(),\n\t\t\t\tnext: this.nextPlayer(),\n\t\t\t});\n\t\t});\n\n\t\tbus.on('delete-from-queue', data => {\n\t\t\tconst player = data.payload;\n\t\t\t// console.log(this.players, '  b ');\n\t\t\tthis.players.forEach((cur, i) => {\n\t\t\t\tif (cur === player) {\n\t\t\t\t\tthis.players.splice(i, 1);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// console.log(this.players, ' a');\n\t\t});\n\n\t}\n}\n\n//todo:: ходит только первый бот\n\n//todo:: бот может сходить в молоко\n\n//todo:: придумать как убирать соседей","\nimport bus from '../bus.js';\n\n/**\n * Class representing set of game controls\n */\nexport default class Controller {\n\t/**\n\t * Creates controllers\n\t * @param game_canvas\n\t * @param change_canvas\n\t */\n\tconstructor(game_canvas, changeBut) {\n\t\tthis.game_canvas = game_canvas;\n\t\tthis.changeBut = changeBut;\n\t\t// this.change_canvas = change_canvas;\n\t\t// this.change_canvas.getContext('2d').transform(1,0,0,1, screen.width*0.7, 0);\n\n\t\tthis.onclick = (event) => {\n\t\t\t// console.log(event.offsetX, ' ', event.offsetY);\n\t\t\t// console.log(event.offsetX * 1000 / this.game_canvas.width);\n\t\t\tbus.emit('left-click', {x: event.offsetX, y: event.offsetY});\n\t\t};\n\n\t\tthis.mousemove = (event) => {\n\t\t\tbus.emit('mousemove', {x: event.offsetX, y: event.offsetY});\n\t\t};\n\t\tthis.contextmenu = (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tbus.emit('contextmenu', {x: event.offsetX, y: event.offsetY});\n\t\t};\n\t\tthis.clickChangeBut = (event) => {\n\t\t\tbus.emit('left-click-change', {});\n\t\t};\n\t\t// this.mousemovecanvas = (event) => {\n\t\t// \tbus.emit('mousemove-change', {x: event.x- screen.width * 0.8, y: event.y});\n\t\t// };\n\t\t// this.conkekstcanvas = (event) => {\n\t\t// \tevent.preventDefault();\n\t\t// \tbus.emit('contextmenu-change', {x: event.x - screen.width * 0.8, y: event.y});\n\t\t// };\n\t}\n\n\t/**\n\t * Turns controls on\n\t */\n\tstart() {\n\t\tthis.game_canvas.addEventListener('click', this.onclick);\n\n\t\tthis.game_canvas.addEventListener('mousemove', this.mousemove);\n\n\t\tthis.game_canvas.addEventListener('contextmenu', this.contextmenu);\n\n\t\tthis.changeBut.addEventListener('click', this.clickChangeBut);\n\t\t//\n\t\t// this.change_canvas.addEventListener('mousemove', this.mousemovecanvas);\n\t\t//\n\t\t// this.change_canvas.addEventListener('contextmenu', this.conkekstcanvas);\n\t}\n\n\t/**\n\t * Turn controls off\n\t */\n\tstop() {\n\t\tthis.game_canvas.removeEventListener('click', this.onclick);\n\n\t\tthis.game_canvas.removeEventListener('mousemove', this.mousemove);\n\n\t\tthis.game_canvas.removeEventListener('contextmenu', this.contextmenu);\n\n\t\tthis.changeBut.removeEventListener('click', this.clickChangeBut);\n\t\t//\n\t\t// this.change_canvas.removeEventListener('mousemove', this.mousemovecanvas);\n\t\t//\n\t\t// this.change_canvas.removeEventListener('contextmenu', this.conkekstcanvas);\n\t}\n}\n\n","\nexport const battleCalc = (firstRegion, secondRegion) => {\n\t//todo КАКИЕ ТО ПРОЦЕНТЫ АААА\n\tconst result = firstRegion.gameData.units - secondRegion.gameData.units * 2;\n\tif (result > 0) {\n\t\tfirstRegion.gameData.units -= secondRegion.gameData.units * 2;\n\t\tsecondRegion.gameData.units = 0;\n\t\treturn true;\n\t} else {\n\t\tsecondRegion.gameData.units -= firstRegion.gameData.units / 2;\n\t\tfirstRegion.gameData.units = 0;\n\t\treturn false;\n\t}\n};","import bus from '../../bus.js';\n\nexport const timer = (htmlElement) => {\n\tlet sec = 30;\n\tlet g = setInterval(() => {\n\t\thtmlElement.innerHTML = --sec;\n\t\tif (sec === 0) {\n\t\t\tclearInterval(g);\n\t\t\tbus.emit('left-click-change', {});\n\t\t}\n\t}, 1000);\n\tbus.on('left-click-change', () => {\n\t\t//sec = 0;\n\t\tclearInterval(g);\n\t});\n};","import bus from '../bus.js';\nimport PLAYER_STATES from './config/playerStates.js';\nimport MainPlayer from './player/mainPlayer.js';\nimport BotPlayer from './player/botPlayer.js';\nimport {timer} from './helperFuncs/timer.js';\nimport {battleCalc} from './helperFuncs/battleCalc.js';\n\n\n/**\n * Class representing game logic\n */\nexport default class GameManager {\n\t/**\n\t * Creates logic =)\n\t * @param controller\n\t */\n\tconstructor(controller) {\n\t\tthis.controller = controller;\n\t\tthis.timer = document.getElementById('timer');\n\t\ttimer(this.timer);\n\t}\n\n\n\t/**\n\t * Starts game logic 8)\n\t */\n\tstart() {\n\t\tbus.on('select-region', data => {\n\t\t\tconst region = data.payload;\n\t\t\tregion.selected = true;\n\t\t\tregion.area.reDraw('red', 2);\n\t\t});\n\n\t\tbus.on('change-selection', data => {\n\t\t\tconst regions = data.payload;\n\t\t\tregions.active.selected = false;\n\t\t\tregions.new.selected = true;\n\t\t\tregions.new.area.reDraw('red', 2);\n\t\t\tregions.active.area.reDraw('black', 2);\n\t\t});\n\n\t\tbus.on('attack', data => {\n\t\t\tconst regions = data.payload;\n\t\t\tconst from = regions.from;\n\t\t\tconst to = regions.to;\n\n\n\t\t\t//true если первый, false если второй\n\t\t\tconst fromWin = battleCalc(from, to);\n\n\t\t\tif (fromWin) {\n\t\t\t\tto.setColor(from.getColor());\n\t\t\t\tto.owner.delRegion(to);\n\n\t\t\t\tif (to.owner.regions.length === 0) {\n\t\t\t\t\tto.owner.setStatus(PLAYER_STATES.DISABLED);\n\t\t\t\t\tbus.emit('delete-from-queue', to.owner);\n\n\t\t\t\t}\n\t\t\t\tbus.emit('update-neighbour', {\n\t\t\t\t\tfrom: from,\n\t\t\t\t\tto: to\n\t\t\t\t});\n\t\t\t\tfrom.owner.addRegion(to);\n\t\t\t}\n\t\t});\n\t\tbus.on('change-move', (dict) => {\n\t\t\tconst data = dict.payload;\n\t\t\t//data.switcher.reDraw('red');\n\t\t\tdata.current.setStatus(PLAYER_STATES.DISABLED);\n\t\t\tdata.next.setStatus(PLAYER_STATES.DEFAULT);\n\t\t\tif (data.next instanceof MainPlayer) {\n\t\t\t\t//вызываем таймер заного для текущего игрока\n\t\t\t\ttimer(this.timer);\n\t\t\t\tthis.controller.start();\n\t\t\t}\n\t\t\telse if (data.next instanceof BotPlayer) {\n\t\t\t\tthis.controller.stop();\n\t\t\t\tbus.emit('bot-move', data.next);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.controller.stop();\n\t\t\t}\n\t\t});\n\t}\n\n\n\t/**\n\t * destroys game logic ;)\n\t */\n\tdestroy() {\n\t\tbus.off('select-region', data => {\n\t\t\tconst region = data.payload;\n\t\t\tregion.selected = true;\n\t\t\tregion.area.reDraw('red', 3);\n\t\t});\n\n\t\tbus.off('change-selection', data => {\n\t\t\tconst regions = data.payload;\n\t\t\tregions.active.selected = false;\n\t\t\tregions.new.selected = true;\n\t\t\tregions.new.area.reDraw('red', 3);\n\t\t\tregions.active.area.reDraw('black', 3);\n\t\t});\n\t}\n}","export const reachMatrix = [\n\t[0, 1, 1, 1, 0],\n\t[1, 0, 1, 1, 1],\n\t[1, 1, 0, 0, 0],\n\t[1, 1, 0, 0, 1],\n\t[0, 1, 0, 1, 0]\n];","/* eslint-disable no-undef */\nimport bus from '../bus.js';\n\n/**\n * Class represents Hexagon graphical element\n */\nexport default class Hexagon {\n\t/**\n\t * Creates Hexagon\n\t * @param canvas\n\t * @param xC\n\t * @param yC\n\t * @param color\n\t */\n\tconstructor(name, canvas, xC, yC, color, coordinate) {\n\t\tthis.name = name;\n\t\tthis.canvas = canvas;\n\t\tthis.game_ctx = this.canvas.getContext('2d');\n\t\tthis.draw(xC, yC, color);\n\t\tthis.xC = xC;\n\t\tthis.yC = yC;\n\t\tthis.color = color;\n\t\tthis.strokeColor = 'black';\n\t\tbus.on('resize-for-draw', () => {\n\t\t\t//todo: далее с соседями\n\t\t\t//todo: сделать кексы прозрачными плюс фон\n\t\t\tfor (let i = 0; i < coordinate.allowedCoord.length; i++) {\n\t\t\t\t//console.log(coordinate.allowedCoord.length, '      length');\n\t\t\t\tif (coordinate.allowedCoord[i].name === this.name) {\n\t\t\t\t\tthis.xC = coordinate.allowedCoord[i].x;\n\t\t\t\t\tthis.yC = coordinate.allowedCoord[i].y;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} \n\t\t\tthis.draw(this.xC, this.yC, this.color);\n\n\t\t});\n\t}\n\n\t/**\n\t * Draws graphical element\n\t * @param xC\n\t * @param yC\n\t * @param color\n\t */\n\n\tsetColor(color) {\n\t\tthis.color = color;\n\t}\n\tgetColor() {\n\t\treturn this.color;\n\t}\n\n\tdraw(xC, yC, color) {\n\t\tconst amountofCoorX = 1000;\n\t\tconst amountofCoorY = 610;\n\t\tthis.R = 90;\n\t\tthis.dR = this.R * 0.866;\n\t\tthis.xp = [\n\t\t\txC - this.R * this.canvas.width / amountofCoorX,\n\t\t\txC - this.R / 2 *  this.canvas.width / amountofCoorX,\n\t\t\txC + this.R / 2 *  this.canvas.width / amountofCoorX,\n\t\t\txC + this.R * this.canvas.width / amountofCoorX,\n\t\t\txC + this.R / 2 * this.canvas.width / amountofCoorX,\n\t\t\txC - this.R / 2 * this.canvas.width / amountofCoorX,\n\t\t\txC - this.R * this.canvas.width / amountofCoorX\n\t\t];\n\t\tthis.yp = [\n\t\t\tyC,\n\t\t\tyC + this.dR * this.canvas.height / amountofCoorY,\n\t\t\tyC + this.dR * this.canvas.height / amountofCoorY,\n\t\t\tyC,\n\t\t\tyC - this.dR * this.canvas.height / amountofCoorY,\n\t\t\tyC - this.dR *this.canvas.height / amountofCoorY,\n\t\t\tyC\n\t\t];\n\t\tthis.game_ctx.beginPath();\n\t\tthis.game_ctx.lineJoin = 'round';\n\t\tthis.game_ctx.lineWidth = 4;\n\t\tthis.game_ctx.moveTo(this.xp[0], this.yp[0]);\n\t\tfor (let i = 1; i < this.xp.length; ++i) {\n\t\t\tthis.game_ctx.lineTo(this.xp[i], this.yp[i]);\n\t\t}\n\t\tthis.game_ctx.strokeStyle = this.strokeColor;\n\t\tthis.game_ctx.stroke();\n\t\tthis.game_ctx.fillStyle = color;\n\t\tthis.game_ctx.fill();\n\t\tthis.game_ctx.closePath();\n\t}\n\n\t/**\n\t * Redraws hexagon\n\t * @param color\n\t * @param width\n\t */\n\treDraw(color, width) {\n\t\tconst amountofCoorX = 1000;\n\t\tconst amountofCoorY = 610;\n\t\tthis.xp = [\n\t\t\tthis.xC - this.R * this.canvas.width / amountofCoorX,\n\t\t\tthis.xC - this.R / 2 *  this.canvas.width / amountofCoorX,\n\t\t\tthis.xC + this.R / 2 *  this.canvas.width / amountofCoorX,\n\t\t\tthis.xC + this.R * this.canvas.width / amountofCoorX,\n\t\t\tthis.xC + this.R / 2 * this.canvas.width / amountofCoorX,\n\t\t\tthis.xC - this.R / 2 * this.canvas.width / amountofCoorX,\n\t\t\tthis.xC - this.R * this.canvas.width / amountofCoorX\n\t\t];\n\t\tthis.yp = [\n\t\t\tthis.yC,\n\t\t\tthis.yC + this.dR * this.canvas.height / amountofCoorY,\n\t\t\tthis.yC + this.dR * this.canvas.height / amountofCoorY,\n\t\t\tthis.yC,\n\t\t\tthis.yC - this.dR * this.canvas.height / amountofCoorY,\n\t\t\tthis.yC - this.dR *this.canvas.height / amountofCoorY,\n\t\t\tthis.yC\n\t\t];\n\t\tthis.game_ctx.beginPath();\n\t\t// this.game_ctx.lineJoin = 'round';\n\t\tthis.game_ctx.lineWidth = 2;\n\t\tthis.game_ctx.moveTo(this.xp[0], this.yp[0]);\n\t\tfor (let i = 1; i < this.xp.length; ++i) {\n\t\t\tthis.game_ctx.lineTo(this.xp[i], this.yp[i]);\n\t\t}\n\t\tthis.game_ctx.strokeStyle = color;\n\t\tthis.strokeColor = color;\n\t\tthis.game_ctx.stroke();\n\t\tthis.game_ctx.closePath();\n\t}\n\n\t/**\n\t * Recolors hexagon\n\t * @param color\n\t */\n\treColor (color) {\n\t\tconst amountofCoorX = 1000;\n\t\tconst amountofCoorY = 610;\n\t\tthis.xp = [\n\t\t\tthis.xC - this.R * this.canvas.width / amountofCoorX,\n\t\t\tthis.xC - this.R / 2 *  this.canvas.width / amountofCoorX,\n\t\t\tthis.xC + this.R / 2 *  this.canvas.width / amountofCoorX,\n\t\t\tthis.xC + this.R * this.canvas.width / amountofCoorX,\n\t\t\tthis.xC + this.R / 2 * this.canvas.width / amountofCoorX,\n\t\t\tthis.xC - this.R / 2 * this.canvas.width / amountofCoorX,\n\t\t\tthis.xC - this.R * this.canvas.width / amountofCoorX\n\t\t];\n\t\tthis.yp = [\n\t\t\tthis.yC,\n\t\t\tthis.yC + this.dR * this.canvas.height / amountofCoorY,\n\t\t\tthis.yC + this.dR * this.canvas.height / amountofCoorY,\n\t\t\tthis.yC,\n\t\t\tthis.yC - this.dR * this.canvas.height / amountofCoorY,\n\t\t\tthis.yC - this.dR *this.canvas.height / amountofCoorY,\n\t\t\tthis.yC\n\t\t];\n\t\tthis.game_ctx.beginPath();\n\t\t// this.game_ctx.lineJoin = 'round';\n\t\t// this.game_ctx.lineWidth = 1;\n\t\tthis.game_ctx.moveTo(this.xp[0], this.yp[0]);\n\t\tfor (let i = 1; i < this.xp.length; ++i) {\n\t\t\tthis.game_ctx.lineTo(this.xp[i], this.yp[i]);\n\t\t}\n\t\tthis.game_ctx.strokeStyle = 'black';\n\t\tthis.game_ctx.stroke();\n\t\tthis.game_ctx.fillStyle = color;\n\t\tthis.game_ctx.fill();\n\t\tthis.game_ctx.closePath();\n\t}\n\n}","/* eslint-disable no-undef */\nimport Hexagon from '../../graphics/hexagon.js';\nimport {reachMatrix} from '../config/reach.js';\nimport bus from '../../bus.js';\n/**\n * Class representing game region\n */\nexport default class Region {\n\t/**\n\t * Creates Region\n\t * @param name\n\t * @param owner\n\t * @param canvas\n\t * @param coordinate\n\t */\n\tconstructor(name, owner, canvas, coordinate, units) {\n\t\tthis.name = name;\n\t\tthis.canvas = canvas;\n\t\tthis.game_ctx = this.canvas.getContext('2d');\n\t\tthis.selected = false;\n\t\tthis.allowedCoordinates = coordinate.allowedCoord;\n\t\tthis.coordinate = coordinate;\n\t\tthis.owner = owner;\n\t\tthis.color = owner.color;\n\t\tthis.gameData = {\n\t\t\tunits: units\n\t\t};\n\t\tthis.setBusListeners();\n\t\tthis.area = null;\n\t\tthis.label = null;\n\t\tthis.globalRegions = null;\n\t\tthis.neighbour = null;\n\t\tthis.number = null;\n\t\tthis.init();\n\t}\n\n\tsetColor(color) {\n\t\tthis.area.setColor(color);\n\t}\n\n\tgetColor() {\n\t\treturn this.area.getColor();\n\t}\n\n\tsetGlobalRegions(regions) {\n\t\tthis.globalRegions = regions;\n\t}\n\n\t/**\n\t * Draws Region and sets it up\n\t */\n\tinit() {\n\t\tfor (let i = 0; i < this.allowedCoordinates.length; ++i) {\n\t\t\tif (this.allowedCoordinates[i].allowed) {\n\t\t\t\tthis.area = new Hexagon(\n\t\t\t\t\tthis.allowedCoordinates[i].name,\n\t\t\t\t\tthis.canvas, this.allowedCoordinates[i].x,\n\t\t\t\t\tthis.allowedCoordinates[i].y,\n\t\t\t\t\tthis.color,\n\t\t\t\t\tthis.coordinate\n\t\t\t\t);\n\t\t\t\tthis.number = i;\n\t\t\t\tthis.neighbour = this.allowedCoordinates[i].neighbour;\n\t\t\t\tthis.label = this.allowedCoordinates[i].name;\n\t\t\t\tthis.allowedCoordinates[i].allowed = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\tsetNeighbours(num) {\n\t\treachMatrix[num].forEach(temp => {\n\t\t\tif (temp === 1) {\n\t\t\t\tthis.neighbour.push(temp + 1);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetBusListeners() {\n\t\tbus.on('update-neighbour', dict => {\n\t\t\tconst data = dict.payload;\n\t\t\t//debugger;\n\t\t\tif (data.from.name === this.name) {\n\t\t\t\tthis.removeNeighbour(data.to.name);\n\t\t\t} else if(data.to.name === this.name) {\n\n\t\t\t\tdata.from.owner.regions.forEach(temp => {\n\t\t\t\t\tthis.removeNeighbour(temp.name);\n\t\t\t\t});\n\t\t\t\tdata.to.owner.regions.forEach(temp => {\n\n\t\t\t\t\tif (reachMatrix[data.to.number][temp.number] === 1) {\n\t\t\t\t\t\tlet f = false;\n\t\t\t\t\t\tfor (let i = 0; i < data.to.neighbour.length; ++i) {\n\t\t\t\t\t\t\tif (data.to.neighbour[i] === temp.name)  {\n\t\t\t\t\t\t\t\tf = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (f === false) {\n\t\t\t\t\t\t\tdata.to.neighbour.push(temp.name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\t// debugger;\n\t\t\t\tthis.globalRegions.forEach(region => {\n\t\t\t\t\tif (region.name === data.to.name) {\n\t\t\t\t\t\tif (reachMatrix[this.number][region.number] === 1) {\n\t\t\t\t\t\t\tlet f = false;\n\t\t\t\t\t\t\tfor (let i = 0; i < this.neighbour.length; ++i) {\n\t\t\t\t\t\t\t\tif (this.neighbour[i] === data.to.name) {\n\t\t\t\t\t\t\t\t\tf = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (f === false) {\n\t\t\t\t\t\t\t\tthis.neighbour.push(data.to.name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tbus.on('change-move', data => {\n\t\t\t//todo какое то будущее, прослушал все((\n\t\t\tthis.gameData.units += 1000;\n\t\t});\n\t}\n\n\tremoveNeighbour(name) {\n\t\tthis.neighbour.forEach((cur, i) => {\n\t\t\tif (cur === name) {\n\t\t\t\tthis.neighbour.splice(i, 1);\n\t\t\t}\n\t\t});\n\t\tconsole.log(this.name, '  ', this.neighbour);\n\t}\n}","/**\n * Returns random number between min and max\n * @param min\n * @param max\n * @return {*}\n */\nconst getRandom = (min, max) => {\n\treturn Math.floor((Math.random() * (max - min))) + min;\n};\nexport default getRandom;","import MainPlayer from './player/mainPlayer.js';\nimport BotPlayer from './player/botPlayer.js';\nimport Region from './components/region.js';\nimport GameManager from './gameManager.js';\nimport Controller from './controller.js';\nimport GameScene from './gameScene.js';\n\n/**\n * Class representing game\n */\nexport default class Game {\n\t/**\n\t * Creates game\n\t * @param mode\n\t * @param game_canvas\n\t * @param change_canvas\n\t */\n\tconstructor(mode, game_canvas, coordinate, changeBut) {\n\t\t//let GameConstructor = null;\n\n\t\t//todo:: онлайн и оффлайн режимы\n\t\tthis.mode = mode;\n\t\tthis.game_canvas = game_canvas;\n\t\tthis.coordinate = coordinate;\n\t\tthis.game_ctx = this.game_canvas.getContext('2d');\n\t\tthis.controller = new Controller(this.game_canvas, changeBut);\n\t\tthis.players = [\n\t\t\tnew MainPlayer('A', 'green'),\n\t\t\tnew BotPlayer('B','blue'),\n\t\t\tnew BotPlayer('C', 'crimson'),\n\t\t\tnew BotPlayer('D', 'silver'),\n\t\t\tnew BotPlayer('E', 'yellow')\n\t\t];\n\n\t\tthis.regions = [];\n\t\tthis.players.forEach( (player, i, arr) => {\n\t\t\tthis.regions.push(new Region(player.name, player,\n\t\t\t\tthis.game_canvas, this.coordinate, (arr.length - i) * 1000));\n\t\t});\n\n\n\t\tthis.regions.forEach(temp => {\n\t\t\ttemp.setGlobalRegions(this.regions);\n\t\t});\n\n\t\tthis.scene = new GameScene(this.game_canvas, this.players, this.regions);\n\t\tthis.manager = new GameManager(this.controller);\n\t}\n\n\t/**\n\t * Starts game\n\t */\n\tstart() {\n\t\tthis.controller.start();\n\t\tthis.scene.onListeners();\n\t\tthis.manager.start();\n\t}\n\n\t/**\n\t * turns game off\n\t */\n\tdestroy() {\n\t\tthis.controller.stop();\n\t\tthis.manager.destroy();\n\t}\n}\n\n//todo ИНТЕРФЕЙС БЛ*ТЬ\n//todo при выделении границы говнятся, потому что не стираются старые\n","/* eslint-disable no-undef */\nimport Section from '../baseView.js';\nimport Game from '../../../modules/game/game.js';\nimport bus from '../../../modules/bus.js';\nimport Coordinate from '../../../modules/game/config/coordinate.js';\nimport Input from '../../blocks/input/input.js';\n\n\n/**\n * Class representing Section of the game\n */\nexport default class GameSection extends Section {\n\t/**\n\t * Creates game section\n\t */\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.parent = document.getElementById('game');\n\t\tthis.wrapper = document.createElement('div');\n\t\tthis.wrapper.classList.add('wrapper');\n\t\tconsole.log(screen.width, ' ', document.documentElement.clientWidth);\n\n\n\t\tthis.wrapper.innerHTML += generateCanvas(\n\t\t\t{\n\t\t\t\t'width': window.innerWidth * 0.7,\n\t\t\t\t'height': window.innerWidth * 0.525 * 0.83,\n\t\t\t\t'id': 'game-canvas'\n\t\t\t}\n\t\t);\n\t\tthis.parent.appendChild(this.wrapper);\n\t\tthis.game_canvas = document.getElementById('game-canvas');\n\t\tthis.ctx = this.game_canvas.getContext('2d');\n\t\tlet img = new Image();\n\t\timg.src = '/map.png';\n\t\timg.onload = () => {\n\t\t\t//let pattern = this.ctx.createPattern(img, 'repeat');\n\t\t\tthis.ctx.drawImage(img, 10,10);\n\t\t\tbus.emit('load-img', {});\n\t\t};\n\n\t\t//this.ctx.fillStyle = this.ctx.createPattern(img, 'repeat');\n\t\t// this.ctx.fillRect(10, 10, 150, 150);\n\t\t// this.ctx.strokeRect(10, 10, 150, 150);\n\t\tbus.on('load-img', () => {\n\t\t\tthis.coordinate = new Coordinate(this.game_canvas);\n\t\t\tthis.setWindowResizeHandler();\n\t\t});\n\n\t}\n\n\t/**\n\t * @return {HTMLDivElement | *}\n\t */\n\trender() {\n\t\tbus.on('load-img', () => {\n\t\t\tthis.changeBut = this.wrapper.getElementsByClassName('change')[0];\n\t\t\tthis.game = new Game({}, this.game_canvas, this.coordinate, this.changeBut);\n\t\t\tthis.game.start();\n\t\t});\n\n\t\treturn this.wrapper;\n\t}\n\n\t/**\n\t * @return {boolean}\n\t */\n\tallowed() {\n\t\t// return User.isAuthorized();\n\t\treturn true;\n\t}\n\n\tcomputeCanvasSize() {\n\t\t// const size = (window.innerWidth > window.innerHeight) ? window.innerHeight : window.innerWidth;\n\t\treturn [window.innerWidth * 0.7, window.innerWidth * 0.525 * 0.83];\n\t}\n\n\tsetWindowResizeHandler() {\n\t\twindow.addEventListener('resize', () => {\n\t\t\t[this.game_canvas.width, this.game_canvas.height] = this.computeCanvasSize();\n\t\t\tthis.coordinate.reSize(this.game_canvas);\n\t\t\tbus.emit('resize-for-draw', {});\n\t\t});\n\t\treturn this;\n\t}\n}\n","import Section from '../baseView.js';\nimport bus from '../../../modules/bus.js';\nimport Router from '../../../modules/router.js';\nimport User from '../../../modules/userModel.js';\n\n\n/**\n * Class represents Section with Menu buttons\n */\nexport default class MenuSection extends Section {\n\t/**\n     * Creates generic section\n     */\n\tconstructor(){\n\t\tsuper();\n\t\tthis.sign();\n\t}\n\n\t/**\n     * Renders and returns MenuSection DOM element\n     * @return {HTMLDivElement | *}\n     */\n\trender() {\n\t\tthis.menu = document.createElement('div');\n\t\tthis.attrsActive = [\n\t\t\t{\n\t\t\t\ttitle: 'singleplayer',\n\t\t\t\thref: '/singleplayer'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'multiplayer',\n\t\t\t\thref: '#'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'profile',\n\t\t\t\thref: '/profile'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'rating',\n\t\t\t\thref: '/rating'\n\t\t\t},\n\t\t];\n\t\tthis.attrPassive = [\n\t\t\t{\n\t\t\t\ttitle: 'singleplayer',\n\t\t\t\thref: '/singleplayer'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Sign In',\n\t\t\t\thref: '/login'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Sign Up',\n\t\t\t\thref: '/register'\n\t\t\t},\n\t\t];\n\n\t\tif (User.isAuthorized()) {\n\t\t\tthis.menu.innerHTML = generateMenu({'attrs': this.attrsActive});\n\t\t\tthis.logout = document.createElement('a');\n\t\t\tthis.logout.setAttribute('href', '/');\n\t\t\tthis.logout.innerText = 'logout';\n\t\t\tthis.logout.addEventListener('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tbus.emit('logout', null);\n\t\t\t});\n\t\t\tthis.logoutWrapper = document.createElement('div');\n\t\t\tthis.logoutWrapper.classList.add('button');\n\t\t\tthis.logoutWrapper.appendChild(this.logout);\n\t\t\tthis.menu.appendChild(this.logoutWrapper);\n\t\t}\n\t\telse {\n\t\t\tthis.menu.innerHTML = generateMenu({'attrs': this.attrPassive});\n\t\t}\n\t\treturn this.menu;\n\t}\n\n\tallowed() {\n\t\treturn true;\n\t}\n\n\tsign() {\n\t\tbus.on('user:authorized', (() => {\n\t\t\tthis.allow = true;\n\t\t\tnew Router().open('/menu');\n\t\t}));\n\n\t\tbus.on('user:unauthorized', (() => {\n\t\t\tthis.allow = false;\n\t\t}));\n\n\t\tbus.on('menu:hide', (() => {\n\t\t\tthis.hide();\n\t\t}));\n\t}\n\n\thide() {\n\t\tthis.menu.setAttribute('hidden', 'hidden');\n\t}\n}\n","import Form from './form.js';\nimport Input from '../blocks/input/input.js';\nimport Validator from '../../modules/validator.js';\n\n\n/**\n * Class representing Login Form\n */\nexport default class LoginForm extends Form {\n\t/**\n     * Creates generic form\n     */\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n     * Return input data of the form\n     * @return {{name: null, email: string, password: string}}\n     */\n\tgetData() {\n\t\tconst email = this.Email.getData();\n\t\tconst password = this.Password.getData();\n\t\tif (email === '' || password === '') {\n\t\t\treturn null;\n\t\t}\n\t\treturn {\n\t\t\temail: email,\n\t\t\tpassword: password\n\t\t};\n\t}\n\n\t/**\n     * Renders and returns form DOM element\n     * @return {*}\n     */\n\trender() {\n\t\tthis.Email = new Input({\n\t\t\ttype: 'text',\n\t\t\tplaceholder: 'email',\n\t\t\tid: 'loginEmail'\n\t\t});\n\n\t\tthis.Password = new Input({\n\t\t\ttype: 'password',\n\t\t\tplaceholder: 'password',\n\t\t\tid: 'loginPassword'\n\t\t});\n\n\t\tthis.InputSubmit = new Input({\n\t\t\ttype: 'submit',\n\t\t\tvalue: 'Sign In',\n\t\t\tid: 'loginSubmit'\n\t\t});\n\n\t\tthis.Email.setOnInputChange(() => {\n\t\t\tValidator.checkMail(this.Email);\n\t\t});\n\n\t\tthis.Password.setOnInputChange(() => {\n\t\t\tValidator.checkPass(this.Password);\n\t\t});\n\n\n\t\tthis.formElement.appendChild(this.Email.render());\n\t\tthis.formElement.appendChild(this.Password.render());\n\t\tthis.formElement.appendChild(this.InputSubmit.render());\n\n\t\treturn this.formElement;\n\t}\n\n\t/**\n     * Defines behaviour on submit\n     * @param {function} callbackfn – submit handler\n     */\n\tsetOnSubmit(callbackfn) {\n\t\tthis.formElement.addEventListener('submit', (ev) => {\n\t\t\tev.preventDefault();\n\t\t\tcallbackfn();\n\t\t});\n\t}\n\n}\n","/* eslint-disable no-undef */\nimport Section from '../baseView.js';\nimport LoginForm from '../../forms/loginForm.js';\nimport bus from '../../../modules/bus.js';\nimport User from '../../../modules/userModel.js';\n\n/** Class represents section with Login Form */\nexport default class LoginSection extends Section {\n\t/**\n     * Creates generic section\n     */\n\tconstructor() {\n\t\tsuper();\n\t\tthis.sign();\n\t}\n\n\t/**\n     * Renders and returns LoginSection DOM element\n     * @return {HTMLDivElement | *}\n     */\n\trender() {\n\n\t\tthis.login = document.createElement('div');\n\t\tthis.login.innerHTML = generateLogin();\n\t\tthis.after = this.login.getElementsByClassName('button')[0];\n\n\t\tthis.loginForm = new LoginForm();\n\n\t\tthis.login.firstChild.insertBefore(this.loginForm.render(), this.after);\n\n\n\t\tthis.loginForm.setOnSubmit(() => {\n\t\t\tconst userData = this.loginForm.getData();\n\t\t\tif (userData === null) {\n\t\t\t\tthis.loginForm.Email.setError('empty fields');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst jsonUserData = JSON.stringify(userData);\n\t\t\tconsole.log(jsonUserData);\n\t\t\tbus.emit('user:login', jsonUserData);\n\t\t});\n\t\treturn this.login;\n\t}\n\n\tallowed() {\n\t\treturn !User.isAuthorized();\n\t}\n\n\tsign() {\n\t\tbus.on('login-error', (error) => {\n\t\t\tthis.loginForm.Email.setError(error.payload);\n\t\t});\n\t}\n}\n","import Form from './form.js';\nimport Input from '../blocks/input/input.js';\nimport Validator from '../../modules/validator.js';\n// validator\n// и какие-то глобальные переменные\n/**\n * Class representing registration form\n */\nexport default class RegisterForm extends Form {\n\t/**\n\t * creates RegisterForm\n\t */\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * @return {HTMLDivElement}\n\t */\n\trender() {\n\t\tthis.Email = new Input({\n\t\t\ttype: 'text',\n\t\t\tplaceholder: 'email',\n\t\t\tid: 'registerEmail'\n\t\t});\n\n\t\tthis.Name = new Input({\n\t\t\ttype: 'text',\n\t\t\tplaceholder: 'name',\n\t\t\tid: 'registerName'\n\t\t});\n\n\t\tthis.Password = new Input({\n\t\t\ttype: 'password',\n\t\t\tplaceholder: 'password',\n\t\t\tid: 'registerPass'\n\t\t});\n\n\t\tthis.ConfirmPassword = new Input({\n\t\t\ttype: 'password',\n\t\t\tplaceholder: 'confirm password',\n\t\t\tid: 'registerPass2'\n\t\t});\n\n\t\tthis.InputSubmit = new Input({\n\t\t\ttype: 'submit',\n\t\t\tvalue: 'Sign Up',\n\t\t\tid: 'registerSubmit'\n\t\t});\n\n\n\t\tthis.Email.setOnInputChange(() => {\n\t\t\tValidator.checkMail(this.Email);\n\t\t});\n\t\tthis.Name.setOnInputChange(() => {\n\t\t\tValidator.checkName(this.Name);\n\t\t});\n\t\tthis.Password.setOnInputChange(() => {\n\t\t\tValidator.checkPass(this.Password);\n\t\t});\n\t\tthis.ConfirmPassword.setOnInputChange(() => {\n\t\t\tValidator.checkConfirm(this.Password, this.ConfirmPassword);\n\t\t});\n\n\t\tthis.formElement.appendChild(this.Email.render());\n\t\tthis.formElement.appendChild(this.Name.render());\n\t\tthis.formElement.appendChild(this.Password.render());\n\t\tthis.formElement.appendChild(this.ConfirmPassword.render());\n\t\tthis.formElement.appendChild(this.InputSubmit.render());\n\n\t\treturn this.formElement;\n\t}\n\n\tgetData() {\n\t\tconst name = this.Name.getData();\n\t\tconst email = this.Email.getData();\n\t\tconst password = this.Password.getData();\n\t\tif (name === '' || email === '' || password === '') {\n\t\t\treturn null;\n\t\t}\n\t\treturn {\n\t\t\tusername: name,\n\t\t\temail: email,\n\t\t\tpassword: password\n\t\t};\n\t}\n\n\n\n\tsetOnSubmit(callbackfn) {\n\t\tthis.formElement.addEventListener('submit', (ev) => {\n\t\t\tev.preventDefault();\n\t\t\tcallbackfn();\n\t\t});\n\t}\n}\n","/* eslint-disable no-undef */\nimport Section from '../baseView.js';\nimport RegisterForm from '../../forms/registerForm.js';\n\nimport bus from '../../../modules/bus.js';\nimport User from '../../../modules/userModel.js';\n\n\n\n/**\n * Class represents Section with Registration Form\n */\nexport default class RegisterSection extends Section {\n\t/**\n     * Creates generic Section and wraps into Parent element\n     * @param parent\n     */\n\tconstructor() {\n\t\tsuper();\n\t\tUser.isAuthorized();\n\t\tthis.sign();\n\t}\n\n\t/**\n     * Renders and returns RegisterSection DOM element\n     * @return {HTMLDivElement}\n     */\n\trender() {\n\t\tthis.register = document.createElement('div');\n\t\tthis.register.innerHTML = generateRegister();\n\t\tthis.registerForm = new RegisterForm();\n\t\tthis.after = this.register.getElementsByClassName('button')[0];\n\t\tthis.register.firstChild.insertBefore(this.registerForm.render(), this.after);\n\t\tthis.registerForm.setOnSubmit( () => {\n\n\t\t\tconst userData = this.registerForm.getData();\n\t\t\tconsole.log(userData);\n\t\t\tif (userData === null) {\n\t\t\t\tthis.registerForm.Email.setError('Empty fields');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst jsonUserData = JSON.stringify(userData);\n\t\t\tbus.emit('user:signup', jsonUserData);\n\t\t\tbus.on('signup-error', (error) => {\n\t\t\t\tthis.registerForm.Email.setError(error.payload);\n\t\t\t});\n\n\t\t});\n\t\treturn this.register;\n\t}\n\n\tallowed() {\n\t\treturn !User.isAuthorized();\n\t}\n\n\tsign() {\n\n\t\tbus.on('signup-error', (error) => {\n\t\t\tthis.registerForm.Email.setError(error.payload);\n\t\t});\n\n\t}\n}\n","import http from './http.js';\nimport route from '../conf/route.js';\nimport bus from './bus.js';\nimport Router from './router.js';\nimport User from './userModel.js';\n// error transformer\n\n/**\n * Class represents set of tools to work with User data\n */\nclass UserController {\n\t/**\n     * Creates user and loads user data\n     */\n\tconstructor() {\n\t\tif (UserController.__instance) {\n\t\t\treturn UserController.__instance;\n\t\t}\n\t\tbus.on('user:signup', (data) => {\n\t\t\tconst user = data.payload;\n\t\t\tUser.signUp(user)\n\t\t\t\t.then(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tnew Router().open('/');\n\t\t\t\t\t})\n\t\t\t\t.catch(\n\t\t\t\t\terror => {\n\t\t\t\t\t\tbus.emit('signup-error', error);\n\t\t\t\t\t});\n\n\t\t});\n\t\tbus.on('logout', () => {\n\t\t\tUser.logout()\n\t\t\t\t.then(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tnew Router().open('/');\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.catch(\n\t\t\t\t\terror => {\n\t\t\t\t\t\tbus.emit('logout-error', error);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t});\n\n\t\tbus.on('user:login', (data) => {\n\t\t\tconst user = data.payload;\n\t\t\tUser.signIn(user)\n\t\t\t\t.then(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tnew Router().open('/');\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.catch(\n\t\t\t\t\terror => {\n\t\t\t\t\t\tbus.emit('login-error', error);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t});\n\t\tbus.on('user:update', (data) => {\n\t\t\tconst user = data.payload;\n\t\t\tUser.update(user)\n\t\t\t\t.then(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tnew Router().open('/');\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.catch(\n\t\t\t\t\terror => {\n\t\t\t\t\t\tbus.emit('update-error', error);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t});\n\t\tbus.on('user:avatarUpload', (data) => {\n\t\t\tconst avatar = data.payload;\n\t\t\tconsole.log(avatar);\n\t\t\tUser.uploadAvatar(avatar)\n\t\t\t\t.then(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tnew Router().open('/profile');\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.catch(\n\t\t\t\t\terror => {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t});\n\n\n\t\tUserController.__instance = this;\n\t}\n\n\n\t/**\n     * Loads Rating of all Users\n     * @param page\n     * @param {function} callbackfn\n     * @return {PromiseLike<T>|Promise<T>}\n     */\n\trating(page, callbackfn) {\n\t\treturn http.get(route.userAPIMethods.leaderBoard + '/' + page.toString(), callbackfn);\n\t}\n\n}\nconst userController = new UserController();\nexport default userController;","'use strict';\nimport Section from '../baseView.js';\nimport UserController from '../../../modules/userController.js';\nimport Button from '../../blocks/button.js';\nimport bus from '../../../modules/bus.js';\nimport Router from '../../../modules/router.js';\nimport User from '../../../modules/userModel.js';\n\n\n/**\n * Class represents Section with Rating Table\n */\nexport default class RatingSection extends Section {\n\t/**\n     * Creates generic Section\n     */\n\tconstructor() {\n\t\tsuper();\n\t\tthis.page = 1;\n\t\tthis.sign();\n\t}\n\n\t/**\n     * Renders and returns RaringSection DOM element\n     * @return {HTMLDivElement | *}\n     */\n\trender() {\n\t\tthis.rating = document.createElement('div');\n\t\tthis.rating.innerHTML = '';\n\n\t\tthis.paginationWrap = document.createElement('div');\n\t\tthis.paginationWrap.classList.add('pagination');\n\n\t\tthis.prevButt = document.createElement('a');\n\t\tthis.prevButt.innerText = '<';\n\t\tthis.prevButt.addEventListener('click', event => {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.rating.removeChild(this.rating.firstChild);\n\t\t\tthis.page--;\n\t\t\tthis.prevButt.hidden = this.page === 1;\n\t\t\tthis.nextButt.hidden = false;\n\t\t\tthis.load(this.page);\n\t\t});\n\t\tthis.nextButt = document.createElement('a');\n\n\n\t\tthis.nextButt.innerText = '>';\n\t\tthis.nextButt.addEventListener('click', event => {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.rating.removeChild(this.rating.firstChild);\n\t\t\tthis.page++;\n\t\t\tif (this.page !== 1) {\n\t\t\t\tthis.prevButt.hidden = false;\n\t\t\t}\n\t\t\tthis.load(this.page, (empty) => {\n\t\t\t\tif (empty) {\n\t\t\t\t\tthis.nextButt.hidden = true;\n\t\t\t\t\tthis.lastPage = document.createElement('div');\n\t\t\t\t\tthis.lastPage.innerText = 'This is the last page';\n\t\t\t\t\tthis.rating.insertBefore(this.lastPage, this.rating.firstChild);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tthis.prevButt.hidden = this.page === 1;\n\n\t\tthis.paginationWrap.appendChild(this.prevButt);\n\t\tthis.paginationWrap.appendChild(this.nextButt);\n\n\t\tthis.backButtWrap = document.createElement('div');\n\t\tthis.backButtWrap.classList.add('button');\n\t\tthis.backButtWrap.classList.add('back-button');\n\n\t\tthis.backButt = document.createElement('a');\n\t\tthis.backButt.setAttribute('href', '/');\n\t\tthis.backButt.innerText = 'Back to menu';\n\t\tthis.backButtWrap.appendChild(this.backButt);\n\n\t\tthis.load(1, ()=>{});\n\t\tthis.rating.appendChild(this.paginationWrap);\n\t\tthis.rating.appendChild(this.backButtWrap);\n\t\treturn this.rating;\n\t}\n\n\tload(page, callbackfn) {\n\t\tconsole.log(page);\n\n\t\tUserController.rating( page, (err, users) => {\n\t\t\tif (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t\tcallbackfn(true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconsole.log(err, users);\n\n\t\t\tusers.then(\n\t\t\t\tdata => {\n\t\t\t\t\tthis.table = document.createElement('div');\n\t\t\t\t\tthis.table.innerHTML = generateRating({'data': data[0], 'user': data[1][0],\n\t\t\t\t\t'pages': data[2][0], 'page': page});\n\t\t\t\t\tthis.rating.insertBefore(this.table, this.rating.firstChild);\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t}\n\tsign() {\n\t\tbus.on('user:authorized', ((data) => {\n\t\t\tthis.allowed = true;\n\t\t}));\n\n\t\tbus.on('user:unauthorized', ((data) => {\n\t\t\tthis.allowed = false;\n\t\t}));\n\t}\n\n\tallowed() {\n\t\treturn User.isAuthorized();\n\t}\n}","import Form from '../form.js';\nimport Input from '../../blocks/input/input.js';\n\n/**\n * Class representing Load form\n */\nexport default class LoadForm extends Form {\n\t/**\n\t * creates loadForm\n\t * @param type\n\t */\n\tconstructor(type) {\n\t\tsuper();\n\t}\n\n\t/**\n\t * returns data of loadForm\n\t * @return {*}\n\t */\n\tgetData() {\n\t\tconst avatar = this.UploadInput.getFormData();\n\t\tif (avatar === '') {\n\t\t\treturn null;\n\t\t}\n\t\treturn {\n\t\t\tavatar: avatar\n\t\t};\n\t}\n\n\t/**\n\t * @return {HTMLDivElement}\n\t */\n\trender() {\n\t\tthis.UploadInput = new Input({\n\t\t\ttype: 'file',\n\t\t\tplaceholder: '',\n\t\t\tid: 'loadImageInput'\n\t\t});\n\t\tthis.UploadSubmit = new Input({\n\t\t\ttype: 'submit',\n\t\t\tvalue: 'Save picture',\n\t\t\tid: 'loadImageSubmit'\n\t\t});\n\n\t\tthis.formElement.appendChild(this.UploadInput.render());\n\t\tthis.formElement.appendChild(this.UploadSubmit.render());\n\n\t\tthis.formElement.setAttribute('enctype', 'multipart/form-data');\n\t\tthis.formElement.setAttribute('name', 'form_loadFile');\n\t\tthis.formElement.classList.add('form-loadFile');\n\n\t\treturn this.formElement;\n\t}\n\n\tsetOnSubmit(callbackfn) {\n\t\tthis.formElement.addEventListener('submit', (ev) => {\n\t\t\tev.preventDefault();\n\t\t\tcallbackfn();\n\t\t});\n\t}\n}","/**\n * Removes children of the root element and puts new child into it\n * @param {HTMLDivElement} child\n * @param {HTMLDivElement} root\n */\nexport default function renderDOM(child, root) {\n\twhile (root.firstChild) {\n\t\troot.removeChild(root.firstChild);\n\t}\n\troot.appendChild(child);\n}","import renderDOM from '../components/render/render.js';\n\n/**\n * Class represents set of tools for switching sections\n */\nclass SectionSwitcher {\n\tconstructor() {}\n\n\t/**\n     * Switches sections\n     * @param newSection\n     * @param rootForElement\n     */\n\tchangeSection(newSection, rootForElement) {\n\t\trenderDOM(newSection, rootForElement);\n\t}\n}\n\nconst sectionSwitcher = new SectionSwitcher();\n\nexport {sectionSwitcher};\n\nexport default SectionSwitcher;\n\n\n","import Form from './form.js';\nimport Input from '../blocks/input/input.js';\nimport Validator from '../../modules/validator.js';\n\n/**\n * Class representing form to change user data\n */\nexport default class ChangeForm extends Form {\n\t/**\n\t * creates ChangeForm\n\t */\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * returns data of the form\n\t * @return {{oldp: string, newp: string}}\n\t */\n\tgetData() {\n\t\treturn {\n\t\t\toldp: this.OldPassword.getData(),\n\t\t\tnewp: this.Password.getData()\n\t\t};\n\t}\n\n\t/**\n\t * @return {HTMLDivElement}\n\t */\n\trender() {\n\n\t\tthis.OldPassword = new Input({\n\t\t\ttype: 'password',\n\t\t\tplaceholder: 'old password',\n\t\t\tid: 'changeOld'\n\t\t});\n\n\t\tthis.Password = new Input({\n\t\t\ttype: 'password',\n\t\t\tplaceholder: 'new password',\n\t\t\tid: 'changeNew'\n\t\t});\n\n\t\tthis.RepeatPassword = new Input({\n\t\t\ttype: 'password',\n\t\t\tplaceholder: 'repeat password',\n\t\t\tid: 'changeRepeat'\n\t\t});\n\n\t\tthis.InputSubmit = new Input({\n\t\t\ttype: 'submit',\n\t\t\tvalue: 'Save',\n\t\t\tid: 'changeSubmit'\n\t\t});\n\n\t\t//TODO:: бэк\n\t\tthis.OldPassword.setOnInputChange(() => {\n\t\t\tValidator.checkPass(this.OldPassword);\n\t\t});\n\t\tthis.Password.setOnInputChange(() => {\n\t\t\tValidator.checkPass(this.Password);\n\t\t});\n\t\tthis.RepeatPassword.setOnInputChange(() => {\n\t\t\tValidator.checkConfirm(this.Password, this.RepeatPassword);\n\t\t});\n\n\t\tthis.formElement.appendChild(this.OldPassword.render());\n\t\tthis.formElement.appendChild(this.Password.render());\n\t\tthis.formElement.appendChild(this.RepeatPassword.render());\n\t\tthis.formElement.appendChild(this.InputSubmit.render());\n\n\n\t\treturn this.formElement;\n\t}\n\n\t/**\n\t * Sets submit listener\n\t * @param callbackfn\n\t */\n\tsetOnSubmit(callbackfn) {\n\t\tthis.formElement.addEventListener('submit', (ev) => {\n\t\t\tev.preventDefault();\n\t\t\tcallbackfn();\n\t\t});\n\t}\n}","import Section from '../baseView.js';\nimport ChangeForm from '../../forms/changeForm.js';\nimport Button from '../../blocks/button.js';\nimport bus from '../../../modules/bus.js';\nimport User from '../../../modules/userModel.js';\nimport Router from '../../../modules/router.js';\nimport LoadForm from '../../forms/loadPictureForm/loadPictureForm.js';\n\n/**\n * Class represents Section with Profile data and Form\n */\nexport default class ProfileSection extends Section {\n\t/**\n     * Creates generic Section\n     */\n\tconstructor() {\n\t\tsuper();\n\t\tthis.sign();\n\t}\n\n\t/**\n     * Renders and returns ProfileSection DOM element\n     * @return {HTMLDivElement | *}\n     */\n\trender() {\n\t\tthis.profileElement = document.createElement('div');\n\t\tthis.profileElement.classList.add('div__profile-wrapper');\n\n\t\tthis.attrs = User.getCurUser();\n\t\tthis.profileTable = document.createElement('div');\n\t\tthis.profileTable.innerHTML = generateProfile({'user': this.attrs});\n\t\tthis.profileElement.appendChild(this.profileTable);\n\t\tthis.profileElement.appendChild(document.createElement('hr'));\n\n\t\tthis.fileForm = new LoadForm();\n\t\tthis.profileElement.appendChild(this.fileForm.render());\n\n\t\tthis.changeForm = new ChangeForm();\n\t\tthis.profileElement.appendChild(this.changeForm.render());\n\n\t\tthis.backButt = new Button('button', 'Back', this.profileElement);\n\t\tthis.backButt.setOnClick(() => {\n\t\t\tnew Router().open('/');\n\t\t});\n\n\t\tthis.changeForm.setOnSubmit( () => {\n\t\t\tconst userData = this.changeForm.getData();\n\t\t\tconst jsonUserData = JSON.stringify(userData);\n\t\t\tbus.emit('user:update', jsonUserData);\n\t\t});\n\t\tthis.fileForm.setOnSubmit( () => {\n\t\t\t//TODO:\n\t\t\tconst file = document.getElementById('loadImageInput');\n\t\t\tconst formData = new FormData();\n\t\t\tconst upload = file.files[0];\n\n\t\t\tformData.append('image', upload);\n\n\t\t\tbus.emit('user:avatarUpload', formData);\n\t\t});\n\t\treturn this.profileElement;\n\t}\n\n\tallowed() {\n\t\treturn User.isAuthorized();\n\t}\n\n\tsign() {\n\t\tbus.on('update:error', data => {\n\t\t\tthis.changeForm.Email.setError(data.payload);\n\t\t});\n\t}\n}","'use strict';\n\nimport ProfileSection from './components/views/profileView/profileView.js';\nimport RatingSection from './components/views/ratingView/ratingView.js';\nimport RegisterSection from './components/views/registerView/registerView.js';\nimport LoginSection from './components/views/loginView/loginView.js';\nimport MenuSection from './components/views/menuView/menuView.js';\nimport Router from './modules/router.js';\nimport User from './modules/userModel.js';\nimport GameSection from './components/views/gameView/gameView.js';\n\nconst root = document.getElementById('application');\nconst globalRoot = document.getElementById('body');\n\n// if ('serviceWorker' in navigator) {\n// \tnavigator.serviceWorker.register('/sw.js', {scope: '/'})\n// \t\t.catch((err) => {\n// \t\t\tconsole.log('Service worker error: ' + err);\n// \t\t});\n// }\n\nUser.auth()\n\t.then( () => {\n\t\tnew Router(root, globalRoot)\n\t\t\t.add('/', MenuSection)\n\t\t\t.add('/register', RegisterSection)\n\t\t\t.add('/profile', ProfileSection)\n\t\t\t.add('/rating', RatingSection)\n\t\t\t.add('/login', LoginSection)\n\t\t\t.add('/singleplayer', GameSection)\n\t\t\t.start();\n\t})\n\t.catch();\n\n","/**\n * @type {HTMLCollectionOf<Element>}\n */\nvar radar = document.getElementById( 'radar' ),\n\tdiameter = Math.min(document.getElementById( 'radar-wrapper' ).offsetHeight,document.getElementById( 'radar-wrapper' ).offsetWidth)-100,\n\tradius = diameter / 2,\n\tpadding = 14,\n\tctx = Sketch.create({\n\t\tcontainer: radar,\n\t\tfullscreen: false,\n\t\twidth: diameter,\n\t\theight: diameter\n\t}),\n\n\tdToR = function( degrees ){\n\t\treturn degrees * (Math.PI / 180);\n\t},\n\tsweepAngle = 270,\n\tsweepSize = 2,\n\tsweepSpeed = 1.2,\n\trings = 4,\n\thueStart = 120,\n\thueEnd = 170,\n\thueDiff = Math.abs( hueEnd - hueStart ),\n\tsaturation = 50,\n\tlightness = 40,\n\tlineWidth = 2,\n\tgradient = ctx.createLinearGradient( radius, 0, 0, 0 );\n\n\nradar.style.marginLeft = radar.style.marginTop = ( -diameter / 2 ) - padding + 'px';\ngradient.addColorStop( 0, 'hsla( ' + hueStart + ', ' + saturation + '%, ' + lightness + '%, 1 )' );\ngradient.addColorStop( 1, 'hsla( ' + hueEnd + ', ' + saturation + '%, ' + lightness + '%, 0.1 )' );\n\nvar renderRings = function(){\n\tvar i;\n\tfor( i = 0; i < rings; i++ ){\n\t\tctx.beginPath();\n\t\tctx.arc( radius, radius, ( ( radius - ( lineWidth / 2) ) / rings) * ( i + 1 ), 0, TWO_PI, false );\n\t\tctx.strokeStyle = 'hsla(' + ( hueEnd - ( i * ( hueDiff / rings ) ) ) + ', ' + saturation + '%, ' + lightness + '%, 0.1)';\n\t\tctx.lineWidth = lineWidth;\n\t\tctx.stroke();\n\t};\n};\n\nvar renderGrid = function(){\n\tctx.beginPath();\n\tctx.moveTo( radius - lineWidth / 2, lineWidth );\n\tctx.lineTo( radius - lineWidth / 2, diameter - lineWidth );\n\tctx.moveTo( lineWidth, radius - lineWidth / 2 );\n\tctx.lineTo( diameter - lineWidth, radius - lineWidth / 2 );\n\tctx.strokeStyle = 'hsla( ' + ( ( hueStart + hueEnd ) / 2) + ', ' + saturation + '%, ' + lightness + '%, .03 )';\n\tctx.stroke();\n};\n\nvar renderSweep = function(){\n\tctx.save();\n\tctx.translate( radius, radius );\n\tctx.rotate( dToR(sweepAngle) );\n\tctx.beginPath();\n\tctx.moveTo( 0, 0 );\n\tctx.arc( 0, 0, radius, dToR( -sweepSize ), dToR( sweepSize ), false );\n\tctx.closePath();\n\tctx.fillStyle = gradient;\n\tctx.fill();\n\tctx.restore();\n};\n\nvar renderScanLines = function(){\n\tvar i;\n\tvar j;\n\tctx.beginPath();\n\tfor( i = 0; i < diameter; i += 2 ){\n\t\tctx.moveTo( 0, i + .5 );\n\t\tctx.lineTo( diameter, i + .5);\n\t};\n\tctx.lineWidth = 1;\n\tctx.strokeStyle = 'hsla( 0, 0%, 0%, .02 )';\n\tctx.globalCompositeOperation = 'source-over';\n\tctx.stroke();\n};\n\nctx.clear = function(){\n\tctx.globalCompositeOperation = 'destination-out';\n\tctx.fillStyle = 'hsla( 0, 0%, 0%, 0.1 )';\n\tctx.fillRect( 0, 0, diameter, diameter );\n};\n\nctx.update = function(){\n\tsweepAngle += sweepSpeed;\n};\n\nctx.draw = function(){\n\tctx.globalCompositeOperation = 'lighter';\n\trenderRings();\n\trenderGrid();\n\trenderSweep();\n\trenderScanLines();\n};","import '../public/css/reset.css';\nimport '../public/css/main.css';\nimport '../public/js/components/blocks/input/input.css';\nimport '../public/js/components/blocks/button.css';\nimport '../public/js/components/blocks/decorations/lamp.css';\nimport '../public/js/components/blocks/decorations/plank.css';\nimport '../public/js/components/blocks/decorations/screw.css';\nimport '../public/js/components/views/ratingView/rating.css';\nimport '../public/js/components/views/profileView/profile.css';\nimport '../public/js/components/forms/loadPictureForm/loadPictureForm.css';\nimport '../public/js/components/views/menuView/menu.css';\nimport '../public/js/components/views/ViewsBack.css';\nimport '../public/js/components/radar/radar.css';\nimport '../public/js/components/views/gameView/gameView.css';\n\n// import '../public/js/modules/sketch.js';\nimport '../public/js/components/radar/radar.js';\nimport '../public/js/application.js';\n"],"sourceRoot":""}